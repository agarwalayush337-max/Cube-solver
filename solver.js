!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("alg"),require("kpuzzle")):"function"==typeof define&&define.amd?define(["alg","kpuzzle"],factory):"object"==typeof exports?exports.min2phase=factory(require("alg"),require("kpuzzle")):root.min2phase=factory(root.alg,root.kpuzzle)}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE__2__,__WEBPACK_EXTERNAL_MODULE__3__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _min2phaseWrapper=__webpack_require__(1);Object.defineProperty(exports,"initialize",{enumerable:!0,get:function(){return _min2phaseWrapper.initialize}}),Object.defineProperty(exports,"solve",{enumerable:!0,get:function(){return _min2phaseWrapper.solve}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialize=void 0,exports.solve=function(state){return(0,_alg.parse)((0,_min2phase.solve)(function(state){var conjugate={EDGE:{permutation:[1,0,3,2,5,4,7,6,8,9,11,10],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNER:{permutation:[0,3,2,1,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTER:{permutation:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0]}},pseudo=(0,_kpuzzle.Combine)(def,(0,_kpuzzle.Combine)(def,conjugate,(0,_kpuzzle.Invert)(def,state)),conjugate);return{cp:pseudo.CORNER.permutation,co:pseudo.CORNER.orientation,ep:pseudo.EDGE.permutation,eo:pseudo.EDGE.orientation}}(state)))};var _alg=__webpack_require__(2),_kpuzzle=__webpack_require__(3),_min2phase=__webpack_require__(4);exports.initialize=_min2phase.initialize;var def=_kpuzzle.Puzzles[333]},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(module,exports,__webpack_require__){"use strict";function createArray(length){for(var arr=Array(length),i=0;i<length;i++)arr[i]=0;return arr}function bitCount(i){return(i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>8)+(i>>>4)&15}function get8Parity(idx){for(var p=0,i=6;i>=0;i--)p+=idx%(8-i),idx=~~(idx/(8-i));return p&=1}function get12Parity(idx){for(var p=0,i=10;i>=0;i--)p+=idx%(12-i),idx=~~(idx/(12-i));return p&=1}function binarySearch(arr,key){var length=arr.length;if(key<=arr[length-1])for(var l=0,r=length-1;l<=r;){var mid=l+r>>>1,val=arr[mid];if(key>val)l=mid+1;else{if(!(key<val))return mid;r=mid-1}}return 65535}for(var fact=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600],perm3=[[11,10,9],[10,11,9],[11,9,10],[9,11,10],[10,9,11],[9,10,11]],ud2std=[0,1,2,4,7,9,10,11,13,16],std2ud=createArray(18),Cnk=function(length1,length2){for(var arr=Array(length1),i=0;i<length1;i++){arr[i]=Array(length2);for(var j=0;j<length2;j++)arr[i][j]=0}return arr}(12,13),move2str=["U ","U2","U'","R ","R2","R'","F ","F2","F'","D ","D2","D'","L ","L2","L'","B ","B2","B'"],urfMove=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,11,10,9]],i=0;i<12;i++){Cnk[i][0]=1,Cnk[i][i]=1,Cnk[i][i+1]=0;for(var j=1;j<i;j++)Cnk[i][j]=Cnk[i-1][j-1]+Cnk[i-1][j]}for(i=0;i<10;i++)std2ud[ud2std[i]]=i;var ckmv=Array(19),ckmv2=Array(11);ckmv[18]=Array(18),ckmv2[10]=Array(10);for(i=0;i<18;i++){ckmv[i]=Array(18);for(j=0;j<18;j++)ckmv[i][j]=~~(i/3)==~~(j/3)||~~(i/3)%3==~~(j/3)%3&&i>=j;ckmv[18][i]=!1}for(i=0;i<10;i++){ckmv2[i]=Array(10);for(j=0;j<10;j++)ckmv2[i][j]=ckmv[ud2std[i]][ud2std[j]];ckmv2[10][i]=!1}function CubieCube(){this.cp=[0,1,2,3,4,5,6,7],this.co=[0,0,0,0,0,0,0,0],this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=[0,0,0,0,0,0,0,0,0,0,0,0],this.getFlip=function(){for(var idx=0,i=0;i<11;i++)idx|=this.eo[i]<<i;return idx},this.getFlipSym=function(){if(0!=FlipR2S)return FlipR2S[this.getFlip()];for(var k=0;k<16;k+=2){EdgeConjugate(this,SymInv[k],temps);var idx=binarySearch(FlipS2R,temps.getFlip());if(65535!=idx)return idx<<3|k>>>1}return 0},this.setFlip=function(idx){this.eo[11]=function(i){return i^=i>>>1,i^=i>>>2,i^=i>>>4,1&(i^=i>>>8)}(idx);for(var i=0;i<11;i++)this.eo[i]=1&idx,idx>>>=1},this.getTwist=function(){for(var idx=0,i=0;i<7;i++)idx*=3,idx+=this.co[i];return idx},this.getTwistSym=function(){if(null!=TwistR2S)return TwistR2S[this.getTwist()];for(var k=0;k<16;k+=2)if(CornConjugate(this,SymInv[k],temps),idx=binarySearch(TwistS2R,temps.getTwist()),65535!=idx)return idx<<3|k>>>1;return 0},this.setTwist=function(idx){for(var twst=0,i=6;i>=0;i--)twst+=this.co[i]=idx%3,idx=~~(idx/3);this.co[7]=(15-twst)%3},this.getUDSlice=function(){for(var idx=0,r=4,i=0;i<12;i++)this.ep[i]>=8&&(idx+=Cnk[11-i][r],r--);return idx},this.setUDSlice=function(idx){for(var r=4,i=0;i<12;i++)idx>=Cnk[11-i][r]?(idx-=Cnk[11-i][r],r--,this.ep[i]=11-r):this.ep[i]=i+r-4},this.getMPerm=function(){for(var m=1<<this.ep[11],idx=0,i=10;i>=8;--i){var t=1<<this.ep[i];idx+=bitCount(m&t-1)*fact[11-i],m|=t}return idx},this.setMPerm=function(idx){this.ep[11]=8;for(var i=10;i>=8;i--){this.ep[i]=idx%(12-i)+8,idx=~~(idx/(12-i));for(var j=i+1;j<12;j++)this.ep[j]>=this.ep[i]&&this.ep[j]++}},this.getMid3=function(){for(var idxA=0,idxB=0,mask=0,r=3,i=11;i>=0;i--)if(this.ep[i]>=9){idxA+=Cnk[i][r--];var t=1<<this.ep[i];idxB+=bitCount(mask&t-1)*fact[2-r],mask|=t}return 6*idxA+idxB},this.setMid3=function(idxA){var edge=perm3[idxA%6];idxA=~~(idxA/6);for(var r=3,i=11;i>=0;i--)idxA>=Cnk[i][r]?(idxA-=Cnk[i][r--],this.ep[i]=edge[2-r]):this.ep[i]=8-i+r},this.getURtoUL=function(){for(var idxA=0,idxB=0,mask=0,r=3,i=11;i>=0;i--)if(this.ep[i]<=2){idxA+=Cnk[i][r--];var t=1<<this.ep[i];idxB+=bitCount(mask&t-1)*fact[2-r],mask|=t}return 6*idxA+idxB},this.getDRtoDL=function(){for(var idxA=0,idxB=0,mask=0,r=3,i=11;i>=0;i--)if(4<=this.ep[i]&&this.ep[i]<=6){idxA+=Cnk[i][r--];var t=1<<this.ep[i];idxB+=bitCount(mask&t-1)*fact[2-r],mask|=t}return 6*idxA+idxB},this.setEdgePerm=function(idx){this.ep[11]=0;for(var i=10;i>=0;i--){this.ep[i]=idx%(12-i),idx=~~(idx/(12-i));for(var j=i+1;j<12;j++)this.ep[j]>=this.ep[i]&&this.ep[j]++}},this.getEdgePerm=function(){for(var m=1<<ep[11],idx=0,i=10;i>=0;--i){var t=1<<this.ep[i];idx+=bitCount(m&t-1)*fact[11-i],m|=t}return idx},this.getCPermSym=function(){if(null!=EPermR2S){var idx=EPermR2S[get8Perm(this.cp)];return idx^=e2c[15&idx]}for(var k=0;k<16;k++){if(CornConjugate(this,SymInv[k],temps),65535!=(idx=binarySearch(CPermS2R,get8Perm(temps.cp))))return idx<<4|k}return 0},this.getEPermSym=function(){if(null!=EPermR2S)return EPermR2S[get8Perm(this.ep)];for(var k=0;k<16;k++){EdgeConjugate(this,SymInv[k],temps);var idx=binarySearch(EPermS2R,get8Perm(temps.ep));if(65535!=idx)return char(idx<<4|k)}return 0},this.URFConjugate=function(){CornMult(urf2,this,temps),CornMult(temps,urf1,this),EdgeMult(urf2,this,temps),EdgeMult(temps,urf1,this)},this.invCubieCube=function(){for(var edge=0;edge<12;edge++)temps.ep[this.ep[edge]]=edge;for(edge=0;edge<12;edge++)temps.eo[edge]=this.eo[temps.ep[edge]];for(var corn=0;corn<8;corn++)temps.cp[this.cp[corn]]=corn;for(corn=0;corn<8;corn++){var ori=this.co[temps.cp[corn]];temps.co[corn]=-ori,temps.co[corn]<0&&(temps.co[corn]+=3)}this.copy(temps)},this.init=function(cperm,twist,eperm,flip){set8Perm(this.cp,cperm),this.setTwist(twist),this.setEdgePerm(eperm),this.setFlip(flip)},this.copy=function(c){for(var i=0;i<8;i++)this.cp[i]=c.cp[i],this.co[i]=c.co[i];for(i=0;i<12;i++)this.ep[i]=c.ep[i],this.eo[i]=c.eo[i]}}var cctemp=new CubieCube,temps=new CubieCube;function set8Perm(arr,idx){for(var val=1985229328,i=0;i<7;i++){var p=fact[7-i],v=~~(idx/p);idx%=p,v<<=2,arr[i]=val>>v&7;var m=(1<<v)-1;val=(val&m)+(val>>4&~m)}arr[7]=val}function get8Perm(arr){for(var idx=0,val=1985229328,i=0;i<7;i++){var v=arr[i]<<2;idx=(8-i)*idx+(val>>v&7),val-=286331152<<v}return idx}function CornMult(a,b,prod){for(var corn=0;corn<8;corn++){prod.cp[corn]=a.cp[b.cp[corn]];var oriA=a.co[b.cp[corn]],oriB=b.co[corn],ori=oriA;ori+=oriA<3?oriB:3-oriB,ori%=3,oriA<3^oriB<3&&(ori+=3),prod.co[corn]=ori}}function EdgeMult(a,b,prod){for(var ed=0;ed<12;ed++)prod.ep[ed]=a.ep[b.ep[ed]],prod.eo[ed]=b.eo[ed]^a.eo[b.ep[ed]]}function CornConjugate(a,idx,b){CornMult(CubeSym[SymInv[idx]],a,cctemp),CornMult(cctemp,CubeSym[idx],b)}function EdgeConjugate(a,idx,b){EdgeMult(CubeSym[SymInv[idx]],a,cctemp),EdgeMult(cctemp,CubeSym[idx],b)}var CubeSym=Array(16),moveCube=Array(18),SymInv=Array(16),SymMult=Array(16),SymMove=Array(16),Sym8Mult=Array(8),Sym8Move=Array(8),Sym8MultInv=Array(8),SymMoveUD=Array(16),FlipS2R=Array(336),TwistS2R=Array(324),CPermS2R=Array(2768),EPermS2R=CPermS2R,FlipR2S=Array(2048),TwistR2S=Array(2187),EPermR2S=createArray(40320);for(i=0;i<40320;i++)EPermR2S[i]=0;var MtoEPerm=Array(40320),merge=Array(56),e2c=[0,0,0,0,1,3,1,3,1,3,1,3,0,0,0,0],urf1=new CubieCube;urf1.init(2531,1373,67026819,1877);var urf2=new CubieCube;urf2.init(2089,1906,322752913,255);var UDSliceMove=Array(495),TwistMove=Array(324),FlipMove=Array(336),UDSliceConj=Array(495),UDSliceTwistPrun=Array(160380),UDSliceFlipPrun=Array(166320),TwistFlipPrun=Array(870912),Mid3Move=Array(1320),Mid32MPerm=Array(24),CParity=Array(87),CPermMove=Array(2768),EPermMove=Array(2768),MPermMove=Array(24),MPermConj=Array(24),MCPermPrun=Array(66432),MEPermPrun=Array(66432);var urfidx,move=Array(31),corn=Array(20),csym=Array(20),mid3=Array(20),e1=Array(20),e2=Array(20),twist=Array(6),tsym=Array(6),flip=Array(6),fsym=Array(6),slice=Array(6),corn0=Array(6),csym0=Array(6),mid30=Array(6),e10=Array(6),e20=Array(6),prun=Array(6),length1=0,maxlength2=0,sol=999,valid1=0,valid2=0,solution="";function phase1(twist,tsym,flip,fsym,slice,maxl,lm){if(0==twist&&0==flip&&0==slice&&maxl<5)return 0==maxl&&function(){valid2=Math.min(valid2,valid1);for(var i=valid1;i<length1;i++){var m=move[i];corn[i+1]=CPermMove[corn[i]][SymMove[csym[i]][m]],csym[i+1]=SymMult[15&corn[i+1]][csym[i]],corn[i+1]>>>=4,mid3[i+1]=Mid3Move[mid3[i]][m]}valid1=length1;var mid=Mid32MPerm[mid3[length1]%24],prun=MCPermPrun[24*corn[length1]+MPermConj[mid][csym[length1]]];if(prun>=maxlength2)return!1;for(var i=valid2;i<length1;i++)e1[i+1]=Mid3Move[e1[i]][move[i]],e2[i+1]=Mid3Move[e2[i]][move[i]];valid2=length1;var cornx=corn[length1],ex=4032*merge[~~(e1[length1]/6)][~~(e2[length1]/6)]+12*e1[length1]+e2[length1]%6*2+(CParity[cornx>>>3]>>>(7&cornx)&1^function(idx){for(var p=0,i=2;i>=0;i--)p+=idx%(4-i),idx=~~(idx/(4-i));return p&=1}(mid)),edge=MtoEPerm[ex],esym=15&edge;if(edge>>>=4,(prun=Math.max(MEPermPrun[24*edge+MPermConj[mid][esym]],prun))>=maxlength2)return!1;for(var lm=0==length1?10:std2ud[3*~~(move[length1-1]/3)+1],i=prun;i<maxlength2;i++)if(phase2(edge,esym,corn[length1],csym[length1],mid,i,length1,lm)){sol=length1+i;var sb="",urf=urfidx;if((urf=(urf+3)%6)<3){for(var s=0;s<length1;s++)sb+=move2str[urfMove[urf][move[s]]]+" ";for(var s=length1;s<sol;s++)sb+=move2str[urfMove[urf][move[s]]]+" "}else{for(var s=sol-1;s>=length1;s--)sb+=move2str[urfMove[urf][move[s]]]+" ";for(var s=length1-1;s>=0;s--)sb+=move2str[urfMove[urf][move[s]]]+" "}return solution=sb,!0}return!1}();for(var m=0;m<18;m++)if(ckmv[lm][m])m+=2;else{var slicex=UDSliceMove[slice][m],twistx=TwistMove[twist][Sym8Move[tsym][m]],tsymx=Sym8Mult[7&twistx][tsym];if(!(UDSliceTwistPrun[495*(twistx>>>=3)+UDSliceConj[slicex][tsymx]]>=maxl)){var flipx=FlipMove[flip][Sym8Move[fsym][m]],fsymx=Sym8Mult[7&flipx][fsym];if(!(TwistFlipPrun[2688*twistx+((flipx>>>=3)<<3|Sym8MultInv[fsymx][tsymx])]>=maxl||UDSliceFlipPrun[495*flipx+UDSliceConj[slicex][fsymx]]>=maxl)&&(move[length1-maxl]=m,valid1=Math.min(valid1,length1-maxl),phase1(twistx,tsymx,flipx,fsymx,slicex,maxl-1,m)))return!0}}return!1}function phase2(edge,esym,corn,csym,mid,maxl,depth,lm){if(0==edge&&0==corn&&0==mid)return!0;for(var m=0;m<10;m++)if(!ckmv2[lm][m]){var midx=MPermMove[mid][m],edgex=EPermMove[edge][SymMoveUD[esym][m]],esymx=SymMult[15&edgex][esym];if(!(MEPermPrun[24*(edgex>>>=4)+MPermConj[midx][esymx]]>=maxl)){var cornx=CPermMove[corn][SymMove[csym][ud2std[m]]],csymx=SymMult[15&cornx][csym];if(!(MCPermPrun[24*(cornx>>>=4)+MPermConj[midx][csymx]]>=maxl)&&(move[depth]=ud2std[m],phase2(edgex,esymx,cornx,csymx,midx,maxl-1,depth+1,m)))return!0}}return!1}var initialized=!1;function initialize(){initialized||(!function(){var mc=Array(6);mc[0]=new CubieCube,mc[0].init(15120,0,119750400,0),mc[1]=new CubieCube,mc[1].init(21021,1494,323403417,0),mc[2]=new CubieCube,mc[2].init(8064,1236,29441808,802),mc[3]=new CubieCube,mc[3].init(9,0,5880,0),mc[4]=new CubieCube,mc[4].init(1230,412,2949660,0),mc[5]=new CubieCube,mc[5].init(224,137,328552,1160);for(var m=0;m<6;m++){moveCube[3*m]=mc[m];for(var p=0;p<2;p++)moveCube[3*m+p+1]=new CubieCube,EdgeMult(moveCube[3*m+p],mc[m],moveCube[3*m+p+1]),CornMult(moveCube[3*m+p],mc[m],moveCube[3*m+p+1])}var temp,c=new CubieCube,d=new CubieCube,f2=new CubieCube;f2.init(28783,0,259268407,0);var u4=new CubieCube;u4.init(15138,0,119765538,1792);var lr2=new CubieCube;lr2.init(5167,0,83473207,0),lr2.co=[3,3,3,3,3,3,3,3];for(var i=0;i<16;i++)SymMult[i]=Array(16),SymMove[i]=Array(18),SymMoveUD[i]=Array(10),CubeSym[i]=new CubieCube,CubeSym[i].copy(c),CornMult(c,u4,d),EdgeMult(c,u4,d),temp=d,d=c,c=temp,i%4==3&&(CornMult(c,lr2,d),EdgeMult(c,lr2,d),temp=d,d=c,c=temp),i%8==7&&(CornMult(c,f2,d),EdgeMult(c,f2,d),temp=d,d=c,c=temp);for(var j=0;j<16;j++)for(var k=0;k<16;k++)if(CornMult(CubeSym[j],CubeSym[k],c),0==c.cp[0]&&1==c.cp[1]&&2==c.cp[2]){SymInv[j]=k;break}for(i=0;i<16;i++)for(j=0;j<16;j++)for(CornMult(CubeSym[i],CubeSym[j],c),k=0;k<16;k++)if(CubeSym[k].cp[0]==c.cp[0]&&CubeSym[k].cp[1]==c.cp[1]&&CubeSym[k].cp[2]==c.cp[2]){SymMult[i][j]=k;break}for(j=0;j<18;j++)for(var s=0;s<16;s++)for(CornConjugate(moveCube[j],SymInv[s],c),m=0;m<18;m++){var found=1;for(i=0;i<8;i++)if(c.cp[i]!=moveCube[m].cp[i]||c.co[i]!=moveCube[m].co[i]){found=0;break}found&&(SymMove[s][j]=m)}for(j=0;j<10;j++)for(s=0;s<16;s++)SymMoveUD[s][j]=std2ud[SymMove[s][ud2std[j]]];for(j=0;j<8;j++)for(Sym8Mult[j]=Array(8),Sym8Move[j]=Array(18),Sym8MultInv[j]=Array(8),s=0;s<8;s++)Sym8Mult[j][s]=SymMult[j<<1][s<<1]>>>1;for(j=0;j<18;j++)for(s=0;s<8;s++)Sym8Move[s][j]=SymMove[s<<1][j];for(j=0;j<8;j++)for(s=0;s<8;s++)Sym8MultInv[j][s]=Sym8Mult[j][SymInv[s<<1]>>1];var occ=new Array(1260),count=0;for(i=0;i<64;occ[i++]=0);for(i=0;i<2048;i++)if(0==(occ[i>>>5]&1<<(31&i))){for(c.setFlip(i),s=0;s<16;s+=2)EdgeConjugate(c,s,d),occ[(idx=d.getFlip())>>>5]|=1<<(31&idx),FlipR2S[idx]=count<<3|s>>>1;FlipS2R[count++]=i}for(count=0,i=0;i<69;occ[i++]=0);for(i=0;i<2187;i++)if(0==(occ[i>>>5]&1<<(31&i))){for(c.setTwist(i),s=0;s<16;s+=2)CornConjugate(c,s,d),occ[(idx=d.getTwist())>>>5]|=1<<(31&idx),TwistR2S[idx]=count<<3|s>>>1;TwistS2R[count++]=i}var mask=Array(56);for(i=0;i<56;i++)mask[i]=Array(2),merge[i]=Array(56);for(i=0;i<40320;i++){set8Perm(c.ep,i);var a=~~(c.getURtoUL()/6),b=~~(c.getDRtoDL()/6);mask[a][b>>>5]|=1<<(31&b)}for(i=0;i<56;i++)for(count=0,j=0;j<56;j++)0!=(mask[i][j>>>5]&1<<(31&j))&&(merge[i][j]=count++);for(count=0,i=0;i<1260;occ[i++]=0);for(i=0;i<40320;i++)if(0==(occ[i>>>5]&1<<(31&i))){for(set8Perm(c.ep,i),s=0;s<16;s++){var idx;EdgeConjugate(c,s,d),occ[(idx=get8Perm(d.ep))>>>5]|=1<<(31&idx),a=d.getURtoUL(),b=d.getDRtoDL(),m=4032*merge[~~(a/6)][~~(b/6)]+12*a+b%6*2+get8Parity(idx),MtoEPerm[m]=count<<4|s,EPermR2S[idx]=count<<4|s}EPermS2R[count++]=i}}(),function(){var i,c=new CubieCube,d=new CubieCube;for(i=0;i<2768;i++)for(CPermMove[i]=Array(18),set8Perm(c.cp,CPermS2R[i]),j=0;j<18;j++)CornMult(c,moveCube[j],d),CPermMove[i][j]=d.getCPermSym();for(i=0;i<2768;i++)for(EPermMove[i]=Array(10),set8Perm(c.ep,EPermS2R[i]),j=0;j<10;j++)EdgeMult(c,moveCube[ud2std[j]],d),EPermMove[i][j]=d.getEPermSym();for(i=0;i<336;i++)for(FlipMove[i]=Array(18),c.setFlip(FlipS2R[i]),j=0;j<18;j++)EdgeMult(c,moveCube[j],d),FlipMove[i][j]=d.getFlipSym();for(i=0;i<324;i++)for(TwistMove[i]=Array(18),c.setTwist(TwistS2R[i]),j=0;j<18;j++)CornMult(c,moveCube[j],d),TwistMove[i][j]=d.getTwistSym();for(i=0;i<495;i++)for(UDSliceMove[i]=Array(18),c.setUDSlice(i),j=0;j<18;j++)EdgeMult(c,moveCube[j],d),UDSliceMove[i][j]=d.getUDSlice();for(i=0;i<495;i++)for(UDSliceConj[i]=Array(8),c.setUDSlice(i),j=0;j<16;j+=2)EdgeConjugate(c,SymInv[j],d),UDSliceConj[i][j>>>1]=d.getUDSlice();for(i=0;i<1320;i++)for(Mid3Move[i]=Array(18),c.setMid3(i),j=0;j<18;j++)EdgeMult(c,moveCube[j],d),Mid3Move[i][j]=d.getMid3();for(i=0;i<24;i++)c.setMPerm(i),Mid32MPerm[c.getMid3()%24]=i;for(i=0;i<2768;i++)CParity[i>>>3]|=get8Parity(CPermS2R[i])<<(7&i);for(i=0;i<24;i++)for(MPermMove[i]=Array(10),c.setMPerm(i),j=0;j<10;j++)EdgeMult(c,moveCube[ud2std[j]],d),MPermMove[i][j]=d.getMPerm();for(i=0;i<24;i++)for(MPermConj[i]=Array(16),c.setMPerm(i),j=0;j<16;j++)EdgeConjugate(c,SymInv[j],d),MPermConj[i][j]=d.getMPerm();var SymState=Array(324);for(i=0;i<324;i++){c.setTwist(TwistS2R[i]);for(var j=0;j<8;j++)CornConjugate(c,j<<1,d),65535!=binarySearch(TwistS2R,d.getTwist())&&(SymState[i]|=1<<j)}var SymStateF=Array(324);for(i=0;i<336;i++)for(c.setFlip(FlipS2R[i]),j=0;j<8;j++)EdgeConjugate(c,j<<1,d),65535!=binarySearch(FlipS2R,d.getFlip())&&(SymStateF[i]|=1<<j);for(i=0;i<870912;i++)TwistFlipPrun[i]=-1;for(i=0;i<8;i++)TwistFlipPrun[i]=0;for(var inv,select,check,depth=0,done=8;done<870912;)for(select=(inv=depth>6)?-1:depth,check=inv?depth:-1,depth++,i=0;i<870912;i++)if(TwistFlipPrun[i]==select){var twist=~~(i/2688),flip=i%2688,fsym=7&i;flip>>>=3;for(var m=0;m<18;m++){var tsymx=7&(twistx=TwistMove[twist][m]);twistx>>>=3;var flipx=FlipMove[flip][Sym8Move[fsym][m]],fsymx=Sym8MultInv[Sym8Mult[7&flipx][fsym]][tsymx];if(TwistFlipPrun[idx=2688*twistx+((flipx>>>=3)<<3|fsymx)]==check){if(done++,inv){TwistFlipPrun[i]=depth;break}TwistFlipPrun[idx]=depth;var sym=SymState[twistx],symF=SymStateF[flipx];if(1!=sym||1!=symF)for(j=0;j<8;j++,symF>>=1)if(1==(1&symF))for(var fsymxx=Sym8MultInv[fsymx][j],k=0;k<8;k++)if(0!=(sym&1<<k)){var idxx=2688*twistx+(flipx<<3|Sym8MultInv[fsymxx][k]);-1==TwistFlipPrun[idxx]&&(TwistFlipPrun[idxx]=depth,done++)}}}}for(i=0;i<160380;i++)UDSliceTwistPrun[i]=-1;for(UDSliceTwistPrun[0]=0,depth=0,done=1;done<160380;)for(select=(inv=depth>6)?-1:depth,check=inv?depth:-1,depth++,i=0;i<160380;i++)if(UDSliceTwistPrun[i]==select){var slice=i%495;for(twist=~~(i/495),m=0;m<18;m++){var twistx,symx=7&(twistx=TwistMove[twist][m]),slicex=UDSliceConj[UDSliceMove[slice][m]][symx];if(UDSliceTwistPrun[idx=495*(twistx>>>=3)+slicex]==check){if(done++,inv){UDSliceTwistPrun[i]=depth;break}if(UDSliceTwistPrun[idx]=depth,1!=(sym=SymState[twistx]))for(j=1;j<8;j++)1==(1&(sym>>=1))&&(idxx=495*twistx+UDSliceConj[slicex][j],-1==UDSliceTwistPrun[idxx]&&(UDSliceTwistPrun[idxx]=depth,done++))}}}for(i=0;i<166320;i++)UDSliceFlipPrun[i]=-1;for(UDSliceFlipPrun[0]=0,depth=0,done=1;done<166320;)for(select=(inv=depth>6)?-1:depth,check=inv?depth:-1,depth++,i=0;i<166320;i++)if(UDSliceFlipPrun[i]==select)for(slice=i%495,flip=~~(i/495),m=0;m<18;m++)if(symx=7&(flipx=FlipMove[flip][m]),slicex=UDSliceConj[UDSliceMove[slice][m]][symx],UDSliceFlipPrun[idx=495*(flipx>>>=3)+slicex]==check){if(done++,inv){UDSliceFlipPrun[i]=depth;break}if(UDSliceFlipPrun[idx]=depth,1!=(sym=SymStateF[flipx]))for(j=1;j<8;j++)1==(1&(sym>>=1))&&(idxx=495*flipx+UDSliceConj[slicex][j],-1==UDSliceFlipPrun[idxx]&&(UDSliceFlipPrun[idxx]=depth,done++))}for(SymState=Array(2768),i=0;i<2768;i++)for(set8Perm(c.ep,EPermS2R[i]),j=1;j<16;j++)EdgeConjugate(c,j,d),65535!=binarySearch(EPermS2R,get8Perm(d.ep))&&(SymState[i]|=1<<j);for(i=0;i<66432;i++)MEPermPrun[i]=-1;for(MEPermPrun[0]=0;done<66432;)for(select=(inv=depth>7)?-1:depth,check=inv?depth:-1,depth++,i=0;i<66432;i++)if(MEPermPrun[i]==select){var mid=i%24,edge=~~(i/24);for(m=0;m<10;m++){var edgex=EPermMove[edge][m],midx=(symx=15&edgex,MPermConj[MPermMove[mid][m]][symx]);if(MEPermPrun[idx=24*(edgex>>>=4)+midx]==check){if(done++,inv){MEPermPrun[i]=depth;break}if(MEPermPrun[idx]=depth,0!=(sym=SymState[edgex]))for(j=1;j<16;j++)1==(1&(sym>>=1))&&(idxx=24*edgex+MPermConj[midx][j],-1==MEPermPrun[idxx]&&(MEPermPrun[idxx]=depth,done++))}}}for(i=0;i<66432;i++)MCPermPrun[i]=-1;for(MCPermPrun[0]=0,depth=0,done=1;done<66432;)for(select=(inv=depth>7)?-1:depth,check=inv?depth:-1,depth++,i=0;i<66432;i++)if(MCPermPrun[i]==select){mid=i%24;var corn=~~(i/24);for(m=0;m<10;m++){var idx,cornx=CPermMove[corn][ud2std[m]];if(symx=15&cornx,midx=MPermConj[MPermMove[mid][m]][symx],MCPermPrun[idx=24*(cornx>>>=4)+midx]==check){if(done++,inv){MCPermPrun[i]=depth;break}if(MCPermPrun[idx]=depth,0!=(sym=SymState[cornx]))for(j=1;j<16;j++)1==(1&(sym>>=1))&&(idxx=24*cornx+MPermConj[midx][j^e2c[j]],-1==MCPermPrun[idxx]&&(MCPermPrun[idxx]=depth,done++))}}}}(),initialized=!0)}module.exports.initialize=initialize,module.exports.solve=function(c){initialize();var cc=new CubieCube;return cc.cp=c.cp,cc.co=c.co,cc.ep=c.ep,cc.eo=c.eo,function(c){c.temps=new CubieCube;for(var i=0;i<6;i++)twist[i]=c.getTwistSym(),tsym[i]=7&twist[i],twist[i]>>>=3,flip[i]=c.getFlipSym(),fsym[i]=7&flip[i],flip[i]>>>=3,slice[i]=c.getUDSlice(),corn0[i]=c.getCPermSym(),csym0[i]=15&corn0[i],corn0[i]>>>=4,mid30[i]=c.getMid3(),e10[i]=c.getURtoUL(),e20[i]=c.getDRtoDL(),prun[i]=Math.max(Math.max(UDSliceTwistPrun[495*twist[i]+UDSliceConj[slice[i]][tsym[i]]],UDSliceFlipPrun[495*flip[i]+UDSliceConj[slice[i]][fsym[i]]]),TwistFlipPrun[2688*twist[i]+(flip[i]<<3|Sym8MultInv[fsym[i]][tsym[i]])]),c.URFConjugate(),2==i&&c.invCubieCube();for(solution=null,sol=22,length1=0;length1<sol;length1++)for(maxlength2=Math.min(sol/2+1,sol-length1),urfidx=0;urfidx<6;urfidx++)if(corn[0]=corn0[urfidx],csym[0]=csym0[urfidx],mid3[0]=mid30[urfidx],e1[0]=e10[urfidx],e2[0]=e20[urfidx],prun[urfidx]<=length1&&phase1(twist[urfidx],tsym[urfidx],flip[urfidx],fsym[urfidx],slice[urfidx],length1,18))return null==solution?"Error 8":solution;return"Error 7"}(cc)},module.exports.randomCube=function(){var eperm,cperm;do{eperm=~~(479001600*Math.random()),cperm=~~(40320*Math.random())}while(0!=(get8Parity(cperm)^get12Parity(eperm)));return c=new CubieCube,c.init(cperm,~~(2187*Math.random()),eperm,~~(2048*Math.random())),c}}])});
//# sourceMappingURL=min2phase.js.map
